<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="copyright" content="Karl N. Redman 2004">
<meta name="keywords" content="run-free,GUI,command line launcher,application,xfree86,bash_history">
<meta name="description" content="run-free is a GUI command line lauching application for Xwindows">
<TITLE>run-free: GUI Command Line Launcher</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<BODY BGCOLOR="#FFFFFF">
<font size="-3">
<center>
<table>
<tr>
	<td><a href="http://run-free.sourceforge.net" target="top">Project Homepage</a></td>
	<td><a href="http://sourceforge.net/projects/run-free/" target="top">Sourceforge Page</a></td>
	<td><a href="http://cvs.sourceforge.net/viewcvs.py/run-free/" target="top">CVS Repository</a></td>
	<td><a href="http://freshmeat.net/projects/run-free/" target="top">Freshmeat.net Page</a></td>
	<td><a href="http://sourceforge.net/project/showfiles.php?group_id=39135&package_id=31325" target="top">Download project</a></td>
	<td><a href="http://www.sleepingstill.com" target="top">Author's Homepage</a></td>
</tr>
</table>
</center>
</font>
<hr>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>callbacks.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
callback function deffinitions 
<p>

<p>
Definition in file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
<code>#include &lt;gtk/gtk.h&gt;</code><br>
<code>#include &lt;gtk/gtkcombo.h&gt;</code><br>
<code>#include &lt;gdk/gdkkeysyms.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include "<a class="el" href="callbacks_8h-source.html">callbacks.h</a>"</code><br>
<code>#include "<a class="el" href="interface_8h-source.html">interface.h</a>"</code><br>
<code>#include "<a class="el" href="support_8h-source.html">support.h</a>"</code><br>
<code>#include "<a class="el" href="comboHandlers_8h-source.html">comboHandlers.h</a>"</code><br>
<code>#include "<a class="el" href="comboBox_8h-source.html">comboBox.h</a>"</code><br>
<code>#include "<a class="el" href="main_8h-source.html">main.h</a>"</code><br>

<p>
Include dependency graph for callbacks.c:<p><center><img src="callbacks_8c__incl.png" border="0" usemap="#callbacks.c_map" alt="Include dependency graph"></center>
<map name="callbacks.c_map">
<area href="callbacks_8h.html" shape="rect" coords="57,86,135,105" alt="">
<area href="support_8h.html" shape="rect" coords="159,86,223,105" alt="">
<area href="interface_8h.html" shape="rect" coords="924,86,993,105" alt="">
<area href="comboHandlers_8h.html" shape="rect" coords="1017,86,1129,105" alt="">
<area href="comboBox_8h.html" shape="rect" coords="1153,86,1236,105" alt="">
<area href="main_8h.html" shape="rect" coords="1260,86,1308,105" alt="">
</map>

<p>
<a href="callbacks_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a0">EMPTY_LIST_HEIGHT</a>&nbsp;&nbsp;&nbsp;(15)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a2">on_mainWindow_destroy</a> (GtkObject *object, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called when the main window is destroyed  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a3">on_combo_entry1_changed</a> (GtkEditable *editable, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a4">on_combo_key_press_event</a> (GtkWidget *widget, GdkEventKey *event, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a5">on_combo_entry1_key_press_event</a> (GtkWidget *widget, GdkEventKey *event, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">handle when a keypress event occures in the combo box.  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a6">on_browseButton_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a7">on_checkbutton_toggled</a> (GtkToggleButton *togglebutton, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">handle setting the run_in_term mode  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a8">on_ok_button1_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle the OK button clicked in the fileselection dialog.  <a href="#a8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a9">on_cancel_button1_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a10">on_fileselection_key_press_event</a> (GtkWidget *widget, GdkEventKey *event, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a11">on_mainWindow_key_press_event</a> (GtkWidget *widget, GdkEventKey *event, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle a keypress event at the toplevel window level.  <a href="#a11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a12">on_runButton_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute the command in the combo entry box.  <a href="#a12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a13">on_optionsButton_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle the options mode selection.  <a href="#a13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a14">handle_options_display</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle options display.  <a href="#a14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a15">on_whoEntry_grab_focus</a> (GtkWidget *widget, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a16">on_passwordEntry_grab_focus</a> (GtkWidget *widget, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a17">on_fileselection_delete_event</a> (GtkWidget *widget, GdkEvent *event, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a18">gtk_combo_get_pos</a> (GtkCombo *combo, gint *x, gint *y, gint *height, gint *width)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">figure out the combo box positions  <a href="#a18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a19">dialog_ok_clicked</a> (GtkButton *button, gpointer user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">handle a dialog ok button click  <a href="#a19"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>gboolean&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="callbacks_8c.html#a1">vbox2Up</a> = FALSE</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">whether the "options" box is up (disabled)  <a href="#a1"></a><br><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="callbacks.c::EMPTY_LIST_HEIGHT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define EMPTY_LIST_HEIGHT&nbsp;&nbsp;&nbsp;(15)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00461">461</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="callbacks_8c-source.html#l00479">gtk_combo_get_pos()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a19" doxytag="callbacks.c::dialog_ok_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void dialog_ok_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
handle a dialog ok button click 
<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00568">568</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00328">keystrokes_dialog()</a>.
<p>
<div class="fragment"><pre>00570 {
00571   gtk_widget_destroy(GTK_WIDGET(user_data));
00572 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="callbacks.c::gtk_combo_get_pos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void gtk_combo_get_pos </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkCombo *&nbsp;</td>
          <td class="mdname" nowrap> <em>combo</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gint *&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gint *&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gint *&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gint *&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
figure out the combo box positions 
<p>
<dl compact><dt><b>Author:</b></dt><dd>NOT ME! whoever wrote gtkhacks...</dd></dl>
<dl compact><dt><b>Warning:</b></dt><dd>This function is "borrowed" from gtkhacks of glade (i think)</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>grab the position of the combo box</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>REDO THIS FUNCTION! This function is not mine! (see gtkhacks) </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00479">479</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="callbacks_8c-source.html#l00461">EMPTY_LIST_HEIGHT</a>.
<p>
<div class="fragment"><pre>00484 {
00485         GtkBin *popwin;
00486         GtkWidget *widget;
00487         GtkScrolledWindow *popup;
00488 
00489         gint real_height;
00490         GtkRequisition list_requisition;
00491         gboolean show_hscroll = FALSE;
00492         gboolean show_vscroll = FALSE;
00493         gint avail_height;
00494         gint min_height;
00495         gint alloc_width;
00496         gint work_height;
00497         gint old_height;
00498         gint old_width;
00499 
00500         widget = GTK_WIDGET(combo);
00501         popup  = GTK_SCROLLED_WINDOW (combo-&gt;popup);
00502         popwin = GTK_BIN (combo-&gt;popwin);
00503 
00504         gtk_widget_realize(GTK_WIDGET(combo-&gt;entry));
00505         gdk_window_get_origin (combo-&gt;entry-&gt;window, x, y);
00506         real_height = MIN (combo-&gt;entry-&gt;requisition.height,
00507                            combo-&gt;entry-&gt;allocation.height);
00508         *y += real_height;
00509         avail_height = gdk_screen_height () - *y;
00510 
00511         gtk_widget_size_request (combo-&gt;list, &amp;list_requisition);
00512         min_height = MIN (list_requisition.height,
00513                           popup-&gt;vscrollbar-&gt;requisition.height);
00514         <span class="keywordflow">if</span> (!GTK_LIST (combo-&gt;list)-&gt;children)
00515                 list_requisition.height += <a class="code" href="callbacks_8c.html#a0">EMPTY_LIST_HEIGHT</a>;
00516 
00517         alloc_width = (widget-&gt;allocation.width -
00518              2 * popwin-&gt;child-&gt;style-&gt;klass-&gt;xthickness -
00519              2 * GTK_CONTAINER (popwin-&gt;child)-&gt;border_width -
00520              2 * GTK_CONTAINER (combo-&gt;popup)-&gt;border_width -
00521              2 * GTK_CONTAINER (GTK_BIN (popup)-&gt;child)-&gt;border_width -
00522              2 * GTK_BIN (popup)-&gt;child-&gt;style-&gt;klass-&gt;xthickness);
00523 
00524         work_height = (2 * popwin-&gt;child-&gt;style-&gt;klass-&gt;ythickness +
00525              2 * GTK_CONTAINER (popwin-&gt;child)-&gt;border_width +
00526              2 * GTK_CONTAINER (combo-&gt;popup)-&gt;border_width +
00527              2 * GTK_CONTAINER (GTK_BIN (popup)-&gt;child)-&gt;border_width +
00528              2 * GTK_BIN (popup)-&gt;child-&gt;style-&gt;klass-&gt;xthickness);
00529 
00530         <span class="keywordflow">do</span> {
00531                 old_width = alloc_width;
00532                 old_height = work_height;
00533 
00534                 <span class="keywordflow">if</span> (!show_hscroll &amp;&amp;
00535                     alloc_width &lt; list_requisition.width) {
00536                           work_height += popup-&gt;hscrollbar-&gt;requisition.height
00537                                          + GTK_SCROLLED_WINDOW_CLASS
00538                                            (GTK_OBJECT (combo-&gt;popup)-&gt;klass)-&gt;scrollbar_spacing;
00539                           show_hscroll = TRUE;
00540                 }
00541             <span class="keywordflow">if</span> (!show_vscroll &amp;&amp;
00542                 work_height + list_requisition.height &gt; avail_height) {
00543                     <span class="keywordflow">if</span> (work_height + min_height &gt; avail_height &amp;&amp;
00544                         *y - real_height &gt; avail_height) {
00545                                 *y -= (work_height +
00546                                        list_requisition.height +
00547                                        real_height);
00548                                 <span class="keywordflow">break</span>;
00549                     }
00550                     alloc_width -= popup-&gt;vscrollbar-&gt;requisition.width +
00551                                    GTK_SCROLLED_WINDOW_CLASS
00552                                   (GTK_OBJECT (combo-&gt;popup)-&gt;klass)-&gt;scrollbar_spacing;
00553                     show_vscroll = TRUE;
00554             }
00555         } <span class="keywordflow">while</span> (old_width != alloc_width || old_height != work_height);
00556 
00557         *width = widget-&gt;allocation.width;
00558         <span class="keywordflow">if</span> (show_vscroll)
00559                 *height = avail_height;
00560         <span class="keywordflow">else</span>
00561                 *height = work_height + list_requisition.height;
00562 
00563         <span class="keywordflow">if</span> (*x &lt; 0)
00564                 *x = 0;
00565 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="callbacks.c::handle_options_display" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void handle_options_display </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle options display. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Handle mainWindow resizing when Options are desired</dd></dl>
<p>
set the focus to the combo box<p>
hide the vbox<p>
resize the main window 
<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00403">403</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00046">combo1</a>, <a class="el" href="interface_8h-source.html#l00032">mainWindow</a>, <a class="el" href="interface_8h-source.html#l00044">vbox2</a>, and <a class="el" href="callbacks_8c-source.html#l00047">vbox2Up</a>.
<p>
Referenced by <a class="el" href="callbacks_8c-source.html#l00373">on_optionsButton_clicked()</a>, <a class="el" href="callbacks_8c-source.html#l00442">on_passwordEntry_grab_focus()</a>, and <a class="el" href="callbacks_8c-source.html#l00433">on_whoEntry_grab_focus()</a>.
<p>
<div class="fragment"><pre>00404 {
00405   <span class="keywordflow">if</span>(<a class="code" href="callbacks_8c.html#a1">vbox2Up</a>)
00406     {
00407       <span class="keywordtype">int</span> x;
00408       <span class="keywordtype">int</span> y;
00409 <span class="comment"></span>
00410 <span class="comment">      ///set the focus to the combo box</span>
00411 <span class="comment"></span>      gtk_widget_grab_focus(GTK_WIDGET(GTK_COMBO (combo1)-&gt;entry));
00412       <span class="comment"></span>
00413 <span class="comment">      ///hide the vbox</span>
00414 <span class="comment"></span>      gtk_widget_hide (vbox2);
00415 <span class="comment"></span>
00416 <span class="comment">      /// resize the main window</span>
00417 <span class="comment"></span>      gdk_window_get_origin(<a class="code" href="interface_8h.html#a0">mainWindow</a>-&gt;window, &amp;x, &amp;y);
00418       gdk_window_move (<a class="code" href="interface_8h.html#a0">mainWindow</a>-&gt;window, x, y);
00419       
00420       <span class="comment">//set the flag</span>
00421       <a class="code" href="callbacks_8c.html#a1">vbox2Up</a> = FALSE;
00422     }
00423   <span class="keywordflow">else</span>
00424     {
00425       <span class="comment">//show the vbox</span>
00426       gtk_widget_show (vbox2);
00427       <a class="code" href="callbacks_8c.html#a1">vbox2Up</a> = TRUE;
00428     }
00429 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="callbacks.c::on_browseButton_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_browseButton_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00206">206</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00033">fileselection</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00208 {
00209   gtk_widget_show (fileselection);
00210 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="callbacks.c::on_cancel_button1_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_cancel_button1_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00269">269</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00033">fileselection</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00282">create_fileselection()</a>.
<p>
<div class="fragment"><pre>00271 {
00272   gtk_widget_hide (fileselection);
00273 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="callbacks.c::on_checkbutton_toggled" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_checkbutton_toggled </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkToggleButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>togglebutton</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
handle setting the run_in_term mode 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Toggle between run_in_term and normal (exit) modes of operation </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00223">223</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="main_8h-source.html#l00038">run_in_term</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00225 {
00226   <span class="keywordflow">if</span>(!<a class="code" href="main_8h.html#a0">run_in_term</a>)
00227     <a class="code" href="main_8h.html#a0">run_in_term</a> = TRUE;
00228   <span class="keywordflow">else</span>
00229     <a class="code" href="main_8h.html#a0">run_in_term</a> = FALSE;
00230 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="callbacks.c::on_combo_entry1_changed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_combo_entry1_changed </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkEditable *&nbsp;</td>
          <td class="mdname" nowrap> <em>editable</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00074">74</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00076 {
00077 
00078 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="callbacks.c::on_combo_entry1_key_press_event" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean on_combo_entry1_key_press_event </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>GdkEventKey *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
handle when a keypress event occures in the combo box. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This is a lengthy function for now. run-free 3.0 will handle this better in the futue. For now we just handle the common functionality of the application from here </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00099">99</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00046">combo1</a>, <a class="el" href="main_8h-source.html#l00039">die</a>, <a class="el" href="callbacks_8h.html#a19">gtk_combo_get_pos()</a>, <a class="el" href="main_8h-source.html#l00049">history_file</a>, <a class="el" href="main_8h-source.html#l00041">keep_open</a>, <a class="el" href="interface_8c-source.html#l00328">keystrokes_dialog()</a>, <a class="el" href="main_8c-source.html#l00380">run_command()</a>, and <a class="el" href="comboHandlers_8c-source.html#l00195">writeHistory()</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00102 {
00103   <span class="comment">//save the previous key press (for control chars)</span>
00104   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prevKey =0;
00105 
00106   <span class="keywordflow">if</span>(event-&gt;keyval == GDK_Return ||
00107      event-&gt;keyval == GDK_KP_Enter) <span class="comment">// run command</span>
00108     {
00109       <span class="keywordflow">if</span>(strcmp(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)), <span class="stringliteral">""</span>) !=0 &amp;&amp;
00110          gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)) != NULL)
00111         {
00112           <a class="code" href="comboHandlers_8h.html#a3">writeHistory</a>(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)), history_file);
00113           <a class="code" href="main_8h.html#a10">run_command</a>(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)));
00114 
00115           gtk_widget_grab_focus(GTK_WIDGET(GTK_COMBO (combo1)-&gt;entry));
00116         }
00117       <span class="keywordflow">return</span> TRUE;
00118     }
00119   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval == GDK_u)
00120     {
00121       <span class="keywordflow">if</span>(prevKey == GDK_Alt_L || prevKey == GDK_Alt_R)
00122         {
00123           <span class="keywordflow">if</span>(<a class="code" href="main_8h.html#a1">die</a>)
00124             <a class="code" href="main_8h.html#a1">die</a>=FALSE;
00125           <span class="keywordflow">else</span>
00126             <a class="code" href="main_8h.html#a1">die</a>=TRUE;
00127         }
00128       }
00129   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval == GDK_y)
00130     {
00131       <span class="keywordflow">if</span>(prevKey == GDK_Alt_L || prevKey == GDK_Alt_R)
00132         {
00133           <span class="keywordflow">if</span>(<a class="code" href="main_8h.html#a3">keep_open</a>)
00134             <a class="code" href="main_8h.html#a3">keep_open</a>=FALSE;
00135           <span class="keywordflow">else</span>
00136             <a class="code" href="main_8h.html#a3">keep_open</a>=TRUE;
00137         }
00138       }
00139   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval == GDK_h)
00140     {
00141       <span class="keywordflow">if</span>(prevKey == GDK_Alt_L || prevKey == GDK_Alt_R)
00142         {
00143           <a class="code" href="interface_8c.html#a2">keystrokes_dialog</a>();
00144         }
00145       }
00146   <span class="keywordflow">if</span>(event-&gt;keyval == GDK_space)
00147   {
00148       <span class="keywordflow">if</span>(prevKey == GDK_Control_L || prevKey == GDK_Control_R ||
00149         prevKey == GDK_Alt_L || prevKey == GDK_Alt_R)
00150         {
00151           gint x =0, y =0, 
00152             height =0, width =0, 
00153             old_height =0, old_width =0; 
00154 
00155           <span class="comment">//we have to grab the combo position</span>
00156           <a class="code" href="callbacks_8h.html#a19">gtk_combo_get_pos</a>(GTK_COMBO(combo1), &amp;x, &amp;y, &amp;height, &amp;width);
00157 
00158           <span class="comment">//see if we have the focus</span>
00159           <span class="keywordflow">if</span> (!GTK_WIDGET_HAS_FOCUS (GTK_COMBO(combo1)-&gt;entry))
00160             gtk_widget_grab_focus (GTK_COMBO(combo1)-&gt;entry);
00161           
00162           <span class="comment">//deliver all events to the popwin</span>
00163           gtk_grab_add (GTK_COMBO(combo1)-&gt;popwin);
00164 
00165           <span class="comment">//grab ponter (mouse) and all other events</span>
00166           gdk_pointer_grab (GTK_COMBO(combo1)-&gt;popwin-&gt;window, TRUE,
00167                             GDK_BUTTON_PRESS_MASK | 
00168                             GDK_BUTTON_RELEASE_MASK |
00169                             GDK_POINTER_MOTION_MASK, 
00170                             NULL, NULL, GDK_CURRENT_TIME);
00171 
00172           <span class="comment">/* I don't know why this is being evil but the widget needs</span>
00173 <span class="comment">             to be resized...</span>
00174 <span class="comment">           */</span>
00175           <span class="keywordflow">if</span> (width != old_width || height != old_height)
00176             {
00177               gtk_widget_hide (GTK_SCROLLED_WINDOW
00178                                (GTK_COMBO(combo1)-&gt;popup)-&gt;hscrollbar);
00179 
00180               gtk_widget_hide (GTK_SCROLLED_WINDOW
00181                                (GTK_COMBO(combo1)-&gt;popup)-&gt;vscrollbar);
00182             }
00183           
00184           <span class="comment">//set the position of the listbox</span>
00185           gtk_widget_set_uposition (GTK_COMBO(combo1)-&gt;popwin, x, y);
00186           gtk_widget_set_usize (GTK_COMBO(combo1)-&gt;popwin, width, height);
00187           gtk_widget_realize (GTK_COMBO(combo1)-&gt;popwin);
00188           gdk_window_resize (GTK_COMBO(combo1)-&gt;popwin-&gt;window, width, height);
00189           
00190           gtk_widget_show(GTK_COMBO(combo1)-&gt;popwin);
00191         }
00192       <span class="keywordflow">return</span> FALSE;
00193   } 
00194   <span class="keywordflow">else</span>
00195     <span class="keywordflow">if</span>(event-&gt;keyval == GDK_Control_L || event-&gt;keyval == GDK_Control_R ||
00196        event-&gt;keyval == GDK_Alt_L || event-&gt;keyval ==GDK_Alt_R)
00197       prevKey = event-&gt;keyval;
00198     <span class="keywordflow">else</span>
00199       prevKey = 0;
00200     
00201   <span class="keywordflow">return</span> FALSE;
00202 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a5_cgraph.png" border="0" usemap="#callbacks_8c_a5_cgraph_map" alt=""></center>
<map name="callbacks_8c_a5_cgraph_map">
<area href="callbacks_8h.html#a19" shape="rect" coords="285,5,413,23" alt="">
<area href="interface_8c.html#a2" shape="rect" coords="292,47,407,66" alt="">
<area href="main_8h.html#a10" shape="rect" coords="303,90,396,109" alt="">
<area href="comboHandlers_8h.html#a3" shape="rect" coords="480,134,560,153" alt="">
<area href="callbacks_8c.html#a19" shape="rect" coords="464,47,576,66" alt="">
<area href="callbacks_8h.html#a18" shape="rect" coords="484,90,556,109" alt="">
</map>
<a class="anchor" name="a4" doxytag="callbacks.c::on_combo_key_press_event" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean on_combo_key_press_event </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>GdkEventKey *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00081">81</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00084 {
00085   <span class="keywordflow">return</span> TRUE;
00086 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="callbacks.c::on_fileselection_delete_event" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean on_fileselection_delete_event </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>GdkEvent *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00450">450</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00033">fileselection</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00282">create_fileselection()</a>.
<p>
<div class="fragment"><pre>00453 {
00454   gtk_widget_hide (fileselection);
00455   <span class="keywordflow">return</span> TRUE;
00456 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="callbacks.c::on_fileselection_key_press_event" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean on_fileselection_key_press_event </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>GdkEventKey *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00277">277</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00282">create_fileselection()</a>.
<p>
<div class="fragment"><pre>00280 {
00281   <span class="keywordflow">if</span>(event-&gt;keyval == GDK_Escape) <span class="comment">// quit</span>
00282     {
00283       <span class="comment">//cancel operations</span>
00284       gtk_button_clicked(GTK_BUTTON(GTK_FILE_SELECTION(widget)-&gt;cancel_button));
00285     }
00286   <span class="keywordflow">return</span> FALSE;
00287 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="callbacks.c::on_mainWindow_destroy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_mainWindow_destroy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkObject *&nbsp;</td>
          <td class="mdname" nowrap> <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
called when the main window is destroyed 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>cleans up before exiting </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00058">58</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="comboBox_8h-source.html#l00039">cbitems</a>, <a class="el" href="main_8h-source.html#l00054">command</a>, <a class="el" href="comboHandlers_8c-source.html#l00173">freeList()</a>, <a class="el" href="main_8h-source.html#l00049">history_file</a>, <a class="el" href="main_8h-source.html#l00048">home_directory</a>, and <a class="el" href="main_8h-source.html#l00051">terminal_path</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00060 {
00061   <span class="comment">//cleanup</span>
00062   <a class="code" href="comboHandlers_8h.html#a1">freeList</a>(cbitems);
00063   g_free(history_file);
00064   g_free(home_directory);
00065   g_free(command);
00066   g_free(terminal_path);
00067 
00068   <span class="comment">//die</span>
00069   gtk_main_quit();
00070 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a2_cgraph.png" border="0" usemap="#callbacks_8c_a2_cgraph_map" alt=""></center>
<map name="callbacks_8c_a2_cgraph_map">
<area href="comboHandlers_8h.html#a1" shape="rect" coords="223,5,276,23" alt="">
</map>
<a class="anchor" name="a11" doxytag="callbacks.c::on_mainWindow_key_press_event" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean on_mainWindow_key_press_event </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>GdkEventKey *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle a keypress event at the toplevel window level. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Takes care of default keystrokes (closing the App. etc.). </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00299">299</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00046">combo1</a>, <a class="el" href="callbacks_8h.html#a18">combo_init()</a>, <a class="el" href="comboBox_8h-source.html#l00041">combo_mode</a>, <a class="el" href="interface_8c-source.html#l00328">keystrokes_dialog()</a>, <a class="el" href="comboBox_8h-source.html#l00034">RF_HISTORY_MODE</a>, and <a class="el" href="comboBox_8h-source.html#l00035">RF_MAX_MODE</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00302 {
00303   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prevKey =0;
00304 
00305   <span class="comment">//return on_combo_entry1_key_press_event(widget, event, user_data);</span>
00306   <span class="keywordflow">if</span>(event-&gt;keyval == GDK_Escape) <span class="comment">// quit</span>
00307     {
00308       <span class="comment">//cancel operations -"destroy"</span>
00309       gtk_main_quit();
00310     }
00311   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval ==GDK_c)
00312     {
00313       gtk_widget_grab_focus(GTK_WIDGET(GTK_COMBO (combo1)-&gt;entry));
00314     }
00315   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval == GDK_m) <span class="comment">// history mode -should be anaccelerator</span>
00316     {
00317       <span class="keywordflow">if</span>(prevKey == GDK_Control_L || prevKey == GDK_Control_R)
00318         {
00319           <span class="keywordflow">if</span>(<a class="code" href="comboBox_8h.html#a4">combo_mode</a> &lt; <a class="code" href="comboBox_8h.html#a2">RF_MAX_MODE</a>)
00320             <a class="code" href="comboBox_8h.html#a4">combo_mode</a>++;
00321           <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="comboBox_8h.html#a4">combo_mode</a> &gt;= <a class="code" href="comboBox_8h.html#a2">RF_MAX_MODE</a>)
00322             <a class="code" href="comboBox_8h.html#a4">combo_mode</a> = <a class="code" href="comboBox_8h.html#a1">RF_HISTORY_MODE</a>;
00323         
00324           <a class="code" href="callbacks_8h.html#a18">combo_init</a>(combo_mode);
00325         }
00326     }
00327   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(event-&gt;keyval == GDK_h)
00328     {
00329       <span class="keywordflow">if</span>(prevKey == GDK_Alt_L || prevKey == GDK_Alt_R)
00330         {
00331           <a class="code" href="interface_8c.html#a2">keystrokes_dialog</a>();
00332         }
00333       }
00334   <span class="keywordflow">else</span>
00335     <span class="keywordflow">if</span>(event-&gt;keyval == GDK_Control_L || event-&gt;keyval == GDK_Control_R)
00336       prevKey = event-&gt;keyval;
00337     <span class="keywordflow">else</span>
00338       prevKey = 0;
00339   <span class="keywordflow">return</span> FALSE;
00340 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a11_cgraph.png" border="0" usemap="#callbacks_8c_a11_cgraph_map" alt=""></center>
<map name="callbacks_8c_a11_cgraph_map">
<area href="callbacks_8h.html#a18" shape="rect" coords="299,5,371,24" alt="">
<area href="interface_8c.html#a2" shape="rect" coords="277,48,392,66" alt="">
<area href="callbacks_8c.html#a19" shape="rect" coords="443,48,555,66" alt="">
</map>
<a class="anchor" name="a8" doxytag="callbacks.c::on_ok_button1_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_ok_button1_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle the OK button clicked in the fileselection dialog. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Sets the combo box entry and hides the fileselection dialog. </dd></dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>clear the file selection by stripping off the file name ? </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00243">243</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00046">combo1</a>, and <a class="el" href="interface_8h-source.html#l00033">fileselection</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00282">create_fileselection()</a>.
<p>
<div class="fragment"><pre>00245 {
00246   <span class="comment">//space and null are the +1's</span>
00247   <span class="keywordtype">char</span> s[strlen(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)))
00248          +1 
00249          + strlen( gtk_file_selection_get_filename(GTK_FILE_SELECTION(fileselection)))
00250          +1]; 
00251   
00252   <span class="comment">//set the combo box string</span>
00253   sprintf(s, <span class="stringliteral">"%s %s"</span>, gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)), gtk_file_selection_get_filename(GTK_FILE_SELECTION(fileselection)));
00254 
00255   <span class="comment">//set the entry</span>
00256   gtk_entry_set_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry), s);
00257 
00258   <span class="comment">//hide the file dialog</span>
00259   gtk_widget_hide (fileselection);
00260 <span class="comment"></span>
00261 <span class="comment">  /**\todo </span>
00262 <span class="comment">     clear the file selection by stripping off the file name ?</span>
00263 <span class="comment">   */</span>
00264   
00265 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="callbacks.c::on_optionsButton_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_optionsButton_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle the options mode selection. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Resize the main window and display the options allowed by the options mode of operation. </dd></dl>

<p>
<dl compact><dt><b>Note:</b></dt><dd>in order to resize the window we have to mess with the window policy of the mainWindow. This is pretty clumbsy here. </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00373">373</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="callbacks_8c-source.html#l00403">handle_options_display()</a>, and <a class="el" href="interface_8h-source.html#l00032">mainWindow</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00375 {
00376   <span class="comment">//TODO (this needs to be made more intuitive!!!)</span>
00377   <span class="keyword">static</span> gboolean up = TRUE;
00378 <span class="comment"></span>
00379 <span class="comment">  /*! \note in order to resize the window we have to mess with the</span>
00380 <span class="comment">    window policy of the mainWindow. This is pretty clumbsy here.</span>
00381 <span class="comment">  */</span>
00382   <span class="keywordflow">if</span>(up)
00383     gtk_window_set_policy (GTK_WINDOW (mainWindow), FALSE, FALSE, FALSE);
00384   <span class="keywordflow">else</span>
00385     gtk_window_set_policy (GTK_WINDOW (mainWindow), FALSE, FALSE, TRUE);
00386 
00387   <a class="code" href="callbacks_8c.html#a14">handle_options_display</a>();
00388   gtk_window_set_policy (GTK_WINDOW (mainWindow), TRUE, TRUE, TRUE);
00389 
00390   <span class="keywordflow">if</span>(up)
00391     up=TRUE;
00392   <span class="keywordflow">else</span>
00393     up=FALSE;
00394 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a13_cgraph.png" border="0" usemap="#callbacks_8c_a13_cgraph_map" alt=""></center>
<map name="callbacks_8c_a13_cgraph_map">
<area href="callbacks_8c.html#a14" shape="rect" coords="227,5,371,23" alt="">
</map>
<a class="anchor" name="a16" doxytag="callbacks.c::on_passwordEntry_grab_focus" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_passwordEntry_grab_focus </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00442">442</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="callbacks_8c-source.html#l00403">handle_options_display()</a>, and <a class="el" href="callbacks_8c-source.html#l00047">vbox2Up</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00444 {
00445   <span class="keywordflow">if</span>(!<a class="code" href="callbacks_8c.html#a1">vbox2Up</a>)
00446     <a class="code" href="callbacks_8c.html#a14">handle_options_display</a>();
00447 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a16_cgraph.png" border="0" usemap="#callbacks_8c_a16_cgraph_map" alt=""></center>
<map name="callbacks_8c_a16_cgraph_map">
<area href="callbacks_8c.html#a14" shape="rect" coords="256,5,400,23" alt="">
</map>
<a class="anchor" name="a12" doxytag="callbacks.c::on_runButton_clicked" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_runButton_clicked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkButton *&nbsp;</td>
          <td class="mdname" nowrap> <em>button</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Execute the command in the combo entry box. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman</dd></dl>
<dl compact><dt><b>Purpose: </b></dt><dd>Write to the history file and execute the command in the entry box. </dd></dl>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00352">352</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="interface_8h-source.html#l00046">combo1</a>, <a class="el" href="main_8h-source.html#l00049">history_file</a>, <a class="el" href="main_8c-source.html#l00380">run_command()</a>, and <a class="el" href="comboHandlers_8c-source.html#l00195">writeHistory()</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00354 {
00355   <span class="keywordflow">if</span>(strcmp(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)), <span class="stringliteral">""</span>) !=0 &amp;&amp;
00356      gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)) != NULL)
00357     {
00358       <a class="code" href="comboHandlers_8h.html#a3">writeHistory</a>(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)), history_file);
00359       <a class="code" href="main_8h.html#a10">run_command</a>(gtk_entry_get_text(GTK_ENTRY( GTK_COMBO(combo1)-&gt;entry)));
00360     }
00361 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a12_cgraph.png" border="0" usemap="#callbacks_8c_a12_cgraph_map" alt=""></center>
<map name="callbacks_8c_a12_cgraph_map">
<area href="main_8h.html#a10" shape="rect" coords="201,5,295,24" alt="">
<area href="comboHandlers_8h.html#a3" shape="rect" coords="343,49,423,68" alt="">
<area href="callbacks_8h.html#a18" shape="rect" coords="347,5,419,24" alt="">
</map>
<a class="anchor" name="a15" doxytag="callbacks.c::on_whoEntry_grab_focus" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void on_whoEntry_grab_focus </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">GtkWidget *&nbsp;</td>
          <td class="mdname" nowrap> <em>widget</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>gpointer&nbsp;</td>
          <td class="mdname" nowrap> <em>user_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00433">433</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
References <a class="el" href="callbacks_8c-source.html#l00403">handle_options_display()</a>, and <a class="el" href="callbacks_8c-source.html#l00047">vbox2Up</a>.
<p>
Referenced by <a class="el" href="interface_8c-source.html#l00047">create_mainWindow()</a>.
<p>
<div class="fragment"><pre>00435 {
00436   <span class="keywordflow">if</span>(!<a class="code" href="callbacks_8c.html#a1">vbox2Up</a>)
00437     <a class="code" href="callbacks_8c.html#a14">handle_options_display</a>();
00438 }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="callbacks_8c_a15_cgraph.png" border="0" usemap="#callbacks_8c_a15_cgraph_map" alt=""></center>
<map name="callbacks_8c_a15_cgraph_map">
<area href="callbacks_8c.html#a14" shape="rect" coords="224,5,368,23" alt="">
</map>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a1" doxytag="callbacks.c::vbox2Up" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> gboolean <a class="el" href="callbacks_8c.html#a1">vbox2Up</a> = FALSE
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
whether the "options" box is up (disabled) 
<p>

<p>
Definition at line <a class="el" href="callbacks_8c-source.html#l00047">47</a> of file <a class="el" href="callbacks_8c-source.html">callbacks.c</a>.
<p>
Referenced by <a class="el" href="callbacks_8c-source.html#l00403">handle_options_display()</a>, <a class="el" href="callbacks_8c-source.html#l00442">on_passwordEntry_grab_focus()</a>, and <a class="el" href="callbacks_8c-source.html#l00433">on_whoEntry_grab_focus()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 16:19:44 2004 for run-free by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
