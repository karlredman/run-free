<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="copyright" content="Karl N. Redman 2004">
<meta name="keywords" content="run-free,GUI,command line launcher,application,xfree86,bash_history">
<meta name="description" content="run-free is a GUI command line lauching application for Xwindows">
<TITLE>run-free: GUI Command Line Launcher</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<BODY BGCOLOR="#FFFFFF">
<font size="-3">
<center>
<table>
<tr>
	<td><a href="http://run-free.sourceforge.net" target="top">Project Homepage</a></td>
	<td><a href="http://sourceforge.net/projects/run-free/" target="top">Sourceforge Page</a></td>
	<td><a href="http://cvs.sourceforge.net/viewcvs.py/run-free/" target="top">CVS Repository</a></td>
	<td><a href="http://freshmeat.net/projects/run-free/" target="top">Freshmeat.net Page</a></td>
	<td><a href="https://sourceforge.net/project/showfiles.php?group_id=39135&package_id=112782" target="top">Download project</a></td>
	<td><a href="http://www.sleepingstill.com" target="top">Author's Homepage</a></td>
</tr>
</table>
</center>
</font>
<hr>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>interface.c</h1><a href="interface_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*!\file interface.c</span>
00002 <span class="comment">  \brief Interface function definitions.</span>
00003 <span class="comment">  This file was originally created by glade</span>
00004 <span class="comment">*/</span>
00005 <span class="comment">/* NOTICE:</span>
00006 <span class="comment">    Copyright (C) 2004  Karl N. Redman (SleepingStill.com)</span>
00007 <span class="comment"></span>
00008 <span class="comment">    This program is free software; you can redistribute it and/or modify</span>
00009 <span class="comment">    it under the terms of the GNU General Public License as published by</span>
00010 <span class="comment">    the Free Software Foundation; either version 2 of the License, or</span>
00011 <span class="comment">    (at your option) any later version.</span>
00012 <span class="comment"></span>
00013 <span class="comment">    This program is distributed in the hope that it will be useful,</span>
00014 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00015 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00016 <span class="comment">    GNU General Public License for more details.</span>
00017 <span class="comment"></span>
00018 <span class="comment">    You should have received a copy of the GNU General Public License</span>
00019 <span class="comment">    along with this program; if not, write to the Free Software</span>
00020 <span class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00021 <span class="comment"></span>
00022 <span class="comment">    For further information contact: parasyte@sleepingstill.com</span>
00023 <span class="comment">*/</span>
00024 
00025 
00026 
00027 <span class="preprocessor">#ifdef HAVE_CONFIG_H</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;config.h&gt;</span>
00029 <span class="preprocessor">#endif</span>
00030 <span class="preprocessor"></span>
00031 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00032 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
00033 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00034 <span class="preprocessor">#include &lt;string.h&gt;</span>
00035 
00036 <span class="preprocessor">#include &lt;gdk/gdkkeysyms.h&gt;</span>
00037 <span class="preprocessor">#include &lt;gtk/gtk.h&gt;</span>
00038 
00039 <span class="preprocessor">#include "<a class="code" href="callbacks_8h.html">callbacks.h</a>"</span>
00040 <span class="preprocessor">#include "<a class="code" href="interface_8h.html">interface.h</a>"</span>
00041 <span class="preprocessor">#include "<a class="code" href="support_8h.html">support.h</a>"</span>
00042 <span class="preprocessor">#include "<a class="code" href="main_8h.html">main.h</a>"</span>
00043 <span class="preprocessor">#include "<a class="code" href="debug_8h.html">debug.h</a>"</span>
00044 <span class="preprocessor">#include "<a class="code" href="help_8h.html">help.h</a>"</span>
00045 
00046 GtkWidget*
<a name="l00047"></a><a class="code" href="interface_8h.html#a5">00047</a> <a class="code" href="interface_8c.html#a0">create_mainWindow</a> (<span class="keywordtype">void</span>)
00048 {
00049   GtkWidget *<a class="code" href="interface_8h.html#a0">mainWindow</a>;
00050   GtkWidget *vbox1;
00051   GtkWidget *hbox1;
00052   <span class="comment">//GtkWidget *combo1;</span>
00053   GtkWidget *combo_entry1;
00054   guint browseButton_key;
00055   GtkWidget *browseButton;
00056   GtkWidget *hbox2;
00057   guint checkbutton_key;
00058   <span class="comment">//GtkWidget *checkbutton;</span>
00059   guint optionsButton_key;
00060   GtkWidget *optionsButton;
00061   guint runButton_key;
00062   GtkWidget *runButton;
00063   <span class="comment">//GtkWidget *vbox2;</span>
00064   GtkWidget *hbox3;
00065   guint label1_key;
00066   GtkWidget *label1;
00067   GtkWidget *whoEntry;
00068   GtkWidget *hbox4;
00069   guint label2_key;
00070   GtkWidget *label2;
00071   GtkWidget *passwordEntry;
00072   GtkAccelGroup *accel_group;
00073 
00074   accel_group = gtk_accel_group_new ();
00075 
00076   <a class="code" href="interface_8h.html#a0">mainWindow</a> = gtk_window_new (GTK_WINDOW_TOPLEVEL);
00077 
00078   <span class="comment">//set the policy for resizeing</span>
00079   <span class="comment">//gtk_window_set_policy (GTK_WINDOW (mainWindow), FALSE, FALSE, FALSE);</span>
00080 
00081   gtk_object_set_data (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"mainWindow"</span>, <a class="code" href="interface_8h.html#a0">mainWindow</a>);
00082   gtk_window_set_title (GTK_WINDOW (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"run-free"</span>);
00083 
00084   vbox1 = gtk_vbox_new (FALSE, 0);
00085   gtk_widget_ref (vbox1);
00086   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"vbox1"</span>, vbox1,
00087                             (GtkDestroyNotify) gtk_widget_unref);
00088   gtk_widget_show (vbox1);
00089   gtk_container_add (GTK_CONTAINER (<a class="code" href="interface_8h.html#a0">mainWindow</a>), vbox1);
00090 
00091   hbox1 = gtk_hbox_new (FALSE, 0);
00092   gtk_widget_ref (hbox1);
00093   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"hbox1"</span>, hbox1,
00094                             (GtkDestroyNotify) gtk_widget_unref);
00095   gtk_widget_show (hbox1);
00096   gtk_box_pack_start (GTK_BOX (vbox1), hbox1, TRUE, TRUE, 0);
00097 
00098   <a class="code" href="interface_8h.html#a4">combo1</a> = gtk_combo_new ();
00099   gtk_widget_ref (<a class="code" href="interface_8h.html#a4">combo1</a>);
00100   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"combo1"</span>, <a class="code" href="interface_8h.html#a4">combo1</a>,
00101                             (GtkDestroyNotify) gtk_widget_unref);
00102   gtk_widget_show (<a class="code" href="interface_8h.html#a4">combo1</a>);
00103   gtk_box_pack_start (GTK_BOX (hbox1), <a class="code" href="interface_8h.html#a4">combo1</a>, TRUE, TRUE, 0);
00104 
00105   combo_entry1 = GTK_COMBO (<a class="code" href="interface_8h.html#a4">combo1</a>)-&gt;entry;
00106   gtk_widget_ref (combo_entry1);
00107   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"combo_entry1"</span>, combo_entry1,
00108                             (GtkDestroyNotify) gtk_widget_unref);
00109 
00110   gtk_widget_show (combo_entry1);
00111 
00112   gtk_combo_set_use_arrows_always(GTK_COMBO(<a class="code" href="interface_8h.html#a4">combo1</a>), 1);
00113 
00114   browseButton = gtk_button_new_with_label (<span class="stringliteral">""</span>);
00115   browseButton_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (browseButton)-&gt;child),
00116                                    <span class="stringliteral">"Bro_wse"</span>);
00117   gtk_widget_add_accelerator (browseButton, <span class="stringliteral">"clicked"</span>, accel_group,
00118                               browseButton_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
00119   gtk_widget_ref (browseButton);
00120   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"browseButton"</span>, browseButton,
00121                             (GtkDestroyNotify) gtk_widget_unref);
00122   gtk_widget_show (browseButton);
00123   gtk_box_pack_start (GTK_BOX (hbox1), browseButton, FALSE, FALSE, 0);
00124   gtk_widget_set_usize (browseButton, 49, -2);
00125 
00126   hbox2 = gtk_hbox_new (FALSE, 9);
00127   gtk_widget_ref (hbox2);
00128   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"hbox2"</span>, hbox2,
00129                             (GtkDestroyNotify) gtk_widget_unref);
00130   gtk_widget_show (hbox2);
00131   gtk_box_pack_start (GTK_BOX (vbox1), hbox2, TRUE, TRUE, 0);
00132 
00133   <a class="code" href="interface_8h.html#a2">checkbutton</a> = gtk_check_button_new_with_label (<span class="stringliteral">""</span>);
00134   checkbutton_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (<a class="code" href="interface_8h.html#a2">checkbutton</a>)-&gt;child),
00135                                    <span class="stringliteral">"Run in _Terminal"</span>);
00136   gtk_widget_add_accelerator (<a class="code" href="interface_8h.html#a2">checkbutton</a>, <span class="stringliteral">"clicked"</span>, accel_group,
00137                               checkbutton_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
00138   gtk_widget_ref (<a class="code" href="interface_8h.html#a2">checkbutton</a>);
00139   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"checkbutton"</span>, <a class="code" href="interface_8h.html#a2">checkbutton</a>,
00140                             (GtkDestroyNotify) gtk_widget_unref);
00141   gtk_widget_show (<a class="code" href="interface_8h.html#a2">checkbutton</a>);
00142   gtk_box_pack_start (GTK_BOX (hbox2), <a class="code" href="interface_8h.html#a2">checkbutton</a>, FALSE, FALSE, 0);
00143 <span class="comment"></span>
00144 <span class="comment">  /**\note The options button and functionality is not implimented in</span>
00145 <span class="comment">     this version of run-free</span>
00146 <span class="comment">  */</span>
00147   optionsButton = gtk_button_new_with_label (<span class="stringliteral">""</span>);
00148   optionsButton_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (optionsButton)-&gt;child),
00149                                    <span class="stringliteral">"_Options"</span>);
00150   <span class="comment">//gtk_widget_add_accelerator (optionsButton, "clicked", accel_group,</span>
00151                               <span class="comment">//optionsButton_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);</span>
00152   gtk_widget_ref (optionsButton);
00153   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"optionsButton"</span>, optionsButton,
00154                             (GtkDestroyNotify) gtk_widget_unref);
00155   <span class="comment">//gtk_widget_show (optionsButton);</span>
00156   gtk_box_pack_start (GTK_BOX (hbox2), optionsButton, FALSE, FALSE, 0);
00157 
00158   runButton = gtk_button_new_with_label (<span class="stringliteral">""</span>);
00159   runButton_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (runButton)-&gt;child),
00160                                    <span class="stringliteral">"_Run"</span>);
00161   gtk_widget_add_accelerator (runButton, <span class="stringliteral">"clicked"</span>, accel_group,
00162                               runButton_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
00163   gtk_widget_ref (runButton);
00164   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"runButton"</span>, runButton,
00165                             (GtkDestroyNotify) gtk_widget_unref);
00166   gtk_widget_show (runButton);
00167   gtk_box_pack_start (GTK_BOX (hbox2), runButton, FALSE, FALSE, 0);
00168 <span class="comment"></span>
00169 <span class="comment">  /**\todo</span>
00170 <span class="comment">     make sure that the runButton fits if the options button is</span>
00171 <span class="comment">     re-added</span>
00172 <span class="comment">  */</span>
00173   <span class="comment">//gtk_widget_set_usize (runButton, 49, -2);</span>
00174   gtk_widget_set_usize (runButton, 103, -2);
00175 
00176   <a class="code" href="interface_8h.html#a3">vbox2</a> = gtk_vbox_new (FALSE, 0);
00177   gtk_widget_ref (<a class="code" href="interface_8h.html#a3">vbox2</a>);
00178   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"vbox2"</span>, <a class="code" href="interface_8h.html#a3">vbox2</a>,
00179                             (GtkDestroyNotify) gtk_widget_unref);
00180 
00181   <span class="comment">//don't show the second vbox until we're ready</span>
00182   <span class="comment">//gtk_widget_show (vbox2);</span>
00183 
00184   gtk_box_pack_start (GTK_BOX (vbox1), <a class="code" href="interface_8h.html#a3">vbox2</a>, TRUE, TRUE, 0);
00185 
00186   hbox3 = gtk_hbox_new (FALSE, 14);
00187   gtk_widget_ref (hbox3);
00188   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"hbox3"</span>, hbox3,
00189                             (GtkDestroyNotify) gtk_widget_unref);
00190   gtk_widget_show (hbox3);
00191   gtk_box_pack_start (GTK_BOX (<a class="code" href="interface_8h.html#a3">vbox2</a>), hbox3, TRUE, TRUE, 0);
00192 
00193   label1 = gtk_label_new (<span class="stringliteral">""</span>);
00194   label1_key = gtk_label_parse_uline (GTK_LABEL (label1),
00195                                    <span class="stringliteral">"Run _As"</span>);
00196   gtk_widget_ref (label1);
00197   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"label1"</span>, label1,
00198                             (GtkDestroyNotify) gtk_widget_unref);
00199   gtk_widget_show (label1);
00200   gtk_box_pack_start (GTK_BOX (hbox3), label1, FALSE, FALSE, 0);
00201 
00202   whoEntry = gtk_entry_new ();
00203   gtk_widget_ref (whoEntry);
00204   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"whoEntry"</span>, whoEntry,
00205                             (GtkDestroyNotify) gtk_widget_unref);
00206   gtk_widget_show (whoEntry);
00207   gtk_box_pack_start (GTK_BOX (hbox3), whoEntry, TRUE, TRUE, 0);
00208 
00209   hbox4 = gtk_hbox_new (FALSE, 0);
00210   gtk_widget_ref (hbox4);
00211   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"hbox4"</span>, hbox4,
00212                             (GtkDestroyNotify) gtk_widget_unref);
00213   gtk_widget_show (hbox4);
00214   gtk_box_pack_start (GTK_BOX (<a class="code" href="interface_8h.html#a3">vbox2</a>), hbox4, TRUE, TRUE, 0);
00215 
00216   label2 = gtk_label_new (<span class="stringliteral">""</span>);
00217   label2_key = gtk_label_parse_uline (GTK_LABEL (label2),
00218                                    <span class="stringliteral">"Pa_ssword"</span>);
00219   gtk_widget_ref (label2);
00220   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"label2"</span>, label2,
00221                             (GtkDestroyNotify) gtk_widget_unref);
00222   gtk_widget_show (label2);
00223   gtk_box_pack_start (GTK_BOX (hbox4), label2, FALSE, FALSE, 0);
00224 
00225   passwordEntry = gtk_entry_new ();
00226   gtk_widget_ref (passwordEntry);
00227   gtk_object_set_data_full (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"passwordEntry"</span>, passwordEntry,
00228                             (GtkDestroyNotify) gtk_widget_unref);
00229   gtk_widget_show (passwordEntry);
00230   gtk_box_pack_start (GTK_BOX (hbox4), passwordEntry, TRUE, TRUE, 0);
00231   gtk_entry_set_visibility (GTK_ENTRY (passwordEntry), FALSE);
00232 
00233   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"destroy"</span>,
00234                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a2">on_mainWindow_destroy</a>),
00235                       NULL);
00236   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a0">mainWindow</a>), <span class="stringliteral">"key_press_event"</span>,
00237                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a11">on_mainWindow_key_press_event</a>),
00238                       NULL);
00239   gtk_signal_connect (GTK_OBJECT (combo_entry1), <span class="stringliteral">"changed"</span>,
00240                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a3">on_combo_entry1_changed</a>),
00241                       NULL);
00242   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a4">combo1</a>), <span class="stringliteral">"key_press_event"</span>,
00243                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a4">on_combo_key_press_event</a>),
00244                       NULL);
00245   gtk_signal_connect (GTK_OBJECT (combo_entry1), <span class="stringliteral">"key_press_event"</span>,
00246                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a5">on_combo_entry1_key_press_event</a>),
00247                       NULL);
00248   gtk_signal_connect (GTK_OBJECT (browseButton), <span class="stringliteral">"clicked"</span>,
00249                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a6">on_browseButton_clicked</a>),
00250                       NULL);
00251   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a2">checkbutton</a>), <span class="stringliteral">"toggled"</span>,
00252                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a7">on_checkbutton_toggled</a>),
00253                       NULL);
00254   gtk_signal_connect (GTK_OBJECT (optionsButton), <span class="stringliteral">"clicked"</span>,
00255                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a13">on_optionsButton_clicked</a>),
00256                       NULL);
00257   gtk_signal_connect (GTK_OBJECT (runButton), <span class="stringliteral">"clicked"</span>,
00258                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a12">on_runButton_clicked</a>),
00259                       NULL);
00260   gtk_signal_connect (GTK_OBJECT (whoEntry), <span class="stringliteral">"grab_focus"</span>,
00261                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a15">on_whoEntry_grab_focus</a>),
00262                       NULL);
00263   gtk_signal_connect (GTK_OBJECT (passwordEntry), <span class="stringliteral">"grab_focus"</span>,
00264                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a16">on_passwordEntry_grab_focus</a>),
00265                       NULL);
00266 
00267   gtk_widget_add_accelerator (whoEntry, <span class="stringliteral">"grab_focus"</span>, accel_group,
00268                               label1_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
00269   gtk_widget_add_accelerator (passwordEntry, <span class="stringliteral">"grab_focus"</span>, accel_group,
00270                               label2_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
00271 
00272   gtk_combo_disable_activate(GTK_COMBO(<a class="code" href="interface_8h.html#a4">combo1</a>));
00273   gtk_widget_grab_focus (combo_entry1);
00274 
00275 
00276   gtk_window_add_accel_group (GTK_WINDOW (<a class="code" href="interface_8h.html#a0">mainWindow</a>), accel_group);
00277 
00278   <span class="keywordflow">return</span> <a class="code" href="interface_8h.html#a0">mainWindow</a>;
00279 }
00280 
00281 GtkWidget*
<a name="l00282"></a><a class="code" href="interface_8h.html#a6">00282</a> <a class="code" href="interface_8c.html#a1">create_fileselection</a> (<span class="keywordtype">void</span>)
00283 {
00284   GtkWidget *<a class="code" href="interface_8h.html#a1">fileselection</a>;
00285   GtkWidget *ok_button1;
00286   GtkWidget *cancel_button1;
00287 
00288   <a class="code" href="interface_8h.html#a1">fileselection</a> = gtk_file_selection_new (<span class="stringliteral">"Select File"</span>);
00289   gtk_object_set_data (GTK_OBJECT (<a class="code" href="interface_8h.html#a1">fileselection</a>), <span class="stringliteral">"fileselection"</span>, <a class="code" href="interface_8h.html#a1">fileselection</a>);
00290   gtk_container_set_border_width (GTK_CONTAINER (<a class="code" href="interface_8h.html#a1">fileselection</a>), 10);
00291 
00292   ok_button1 = GTK_FILE_SELECTION (<a class="code" href="interface_8h.html#a1">fileselection</a>)-&gt;ok_button;
00293   gtk_object_set_data (GTK_OBJECT (<a class="code" href="interface_8h.html#a1">fileselection</a>), <span class="stringliteral">"ok_button1"</span>, ok_button1);
00294   gtk_widget_show (ok_button1);
00295   GTK_WIDGET_SET_FLAGS (ok_button1, GTK_CAN_DEFAULT);
00296 
00297   cancel_button1 = GTK_FILE_SELECTION (<a class="code" href="interface_8h.html#a1">fileselection</a>)-&gt;cancel_button;
00298   gtk_object_set_data (GTK_OBJECT (<a class="code" href="interface_8h.html#a1">fileselection</a>), <span class="stringliteral">"cancel_button1"</span>, cancel_button1);
00299   gtk_widget_show (cancel_button1);
00300   GTK_WIDGET_SET_FLAGS (cancel_button1, GTK_CAN_DEFAULT);
00301 
00302   <span class="comment">//gtk_signal_connect (GTK_OBJECT (fileselection), "destroy",</span>
00303                       <span class="comment">//GTK_SIGNAL_FUNC (on_fileselection_destroy),</span>
00304                       <span class="comment">//NULL);</span>
00305   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a1">fileselection</a>), <span class="stringliteral">"delete_event"</span>,
00306                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a17">on_fileselection_delete_event</a>),
00307                       NULL);
00308   gtk_signal_connect (GTK_OBJECT (<a class="code" href="interface_8h.html#a1">fileselection</a>), <span class="stringliteral">"key_press_event"</span>,
00309                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a10">on_fileselection_key_press_event</a>),
00310                       NULL);
00311   gtk_signal_connect (GTK_OBJECT (ok_button1), <span class="stringliteral">"clicked"</span>,
00312                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a8">on_ok_button1_clicked</a>),
00313                       NULL);
00314   gtk_signal_connect (GTK_OBJECT (cancel_button1), <span class="stringliteral">"clicked"</span>,
00315                       GTK_SIGNAL_FUNC (<a class="code" href="callbacks_8c.html#a9">on_cancel_button1_clicked</a>),
00316                       NULL);
00317 
00318   <span class="keywordflow">return</span> <a class="code" href="interface_8h.html#a1">fileselection</a>;
00319 }
00320 <span class="comment"></span>
00321 <span class="comment">/** </span>
00322 <span class="comment">    \brief quickie/cheezy dialog for help</span>
00323 <span class="comment"></span>
00324 <span class="comment">    \author Karl N. Redman</span>
00325 <span class="comment"></span>
00326 <span class="comment">    \par Purpose: display a dialog box of keystrokes</span>
00327 <span class="comment">*/</span>
<a name="l00328"></a><a class="code" href="interface_8h.html#a7">00328</a> <span class="keywordtype">void</span> <a class="code" href="interface_8c.html#a2">keystrokes_dialog</a>(<span class="keywordtype">void</span>)
00329 {
00330   GtkWidget *dialog;
00331   GtkWidget *scrollwin;
00332   GtkWidget *help;
00333   GtkWidget *ok;
00334 
00335   dialog = gtk_dialog_new();
00336 
00337   gtk_window_set_title(GTK_WINDOW(dialog), <span class="stringliteral">"run-free Keystroke Help"</span>);
00338   gtk_container_border_width(GTK_CONTAINER(dialog), 5);
00339   gtk_widget_set_usize(dialog, 300, 300);
00340 
00341   scrollwin = gtk_scrolled_window_new(NULL, NULL);
00342   gtk_container_border_width(GTK_CONTAINER(scrollwin), 10);
00343 
00344   gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrollwin), GTK_POLICY_AUTOMATIC, GTK_POLICY_ALWAYS);
00345   gtk_box_pack_start (GTK_BOX (GTK_DIALOG(dialog)-&gt;vbox), scrollwin, TRUE, TRUE, 0);
00346   gtk_widget_show(scrollwin);
00347 
00348   help = gtk_label_new(<a class="code" href="help_8h.html#a0">KEYSTROKES</a>);
00349   gtk_label_set_justify(help, GTK_JUSTIFY_LEFT);
00350   gtk_scrolled_window_add_with_viewport(GTK_SCROLLED_WINDOW(scrollwin), help);
00351   gtk_widget_show(help);
00352 
00353   ok = gtk_button_new_with_label(<span class="stringliteral">"OK"</span>);
00354   gtk_signal_connect(GTK_OBJECT(ok), <span class="stringliteral">"clicked"</span>,GTK_SIGNAL_FUNC(<a class="code" href="callbacks_8c.html#a19">dialog_ok_clicked</a>), dialog);
00355   GTK_WIDGET_SET_FLAGS(ok, GTK_CAN_DEFAULT);
00356   gtk_box_pack_start(GTK_BOX(GTK_DIALOG(dialog)-&gt;action_area), ok, TRUE, TRUE, 0);
00357   gtk_widget_grab_default(ok);
00358   gtk_widget_show(ok);
00359 
00360   <span class="comment">//show dialog</span>
00361   gtk_widget_show(dialog);
00362 }
00363 
00364 
00365 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Mar 18 07:26:17 2004 for run-free by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
